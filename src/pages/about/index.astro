---
import Layout from "../../layouts/BasicLayout.astro";
import BlocksContent from "../../components/blocks.content.astro";
import { getCollection } from "astro:content";

const pages = await getCollection("pages");
const pageEntry = pages.find((p) => p.data.slug === "about");
const page = pageEntry?.data || null;
const storeData = await getCollection("store");
const store = storeData[0]?.data || {};
---

<Layout
  title={page?.SEO?.metaTitle || page?.Title || "Acerca de Nosotros"}
  description={page?.SEO?.metaDescription || undefined}
  keywords={page?.SEO?.metaKeywords || undefined}
  author={page?.SEO?.metaAuthor || undefined}
  ogImage={page?.SEO?.socialImage?.url || undefined}
>
  <main>
    <section class="py-5 bg-light">
      <div class="container">
        <div class="row justify-content-center text-center">
          <div class="col-lg-8">
            <h1 class="display-4 fw-bold mb-3">{page?.Title || "Acerca de"}</h1>
            {
              page?.SEO?.metaDescription && (
                <p class="lead text-muted">{page.SEO.metaDescription}</p>
              )
            }
          </div>
        </div>
      </div>
    </section>

    <div class="container my-5">
      {
        page?.Content ? (
          <BlocksContent content={page.Content} />
        ) : (
          <div class="row">
            <div class="col-lg-8">
              <p class="text-muted">
                No hay contenido disponible para esta página.
              </p>
            </div>
          </div>
        )
      }
    </div>
    <section class="container my-5">
      <div class="text-center mb-5">
        <h2 class="fw-bold">Nuestros Valores</h2>
        <p class="lead text-muted">Principios que nos guian</p>
      </div>
      <div class="row">
        <div class="col-md-4 mb-4 text-center">
          <div class="p-4">
            <i class="bi bi-heart-fill text-danger fs-1 mb-3"></i>
            <h4 class="fw-bold">Pasión</h4>
            <p class="text-muted">
              Nos apasiona lo que hacemos y se refleja en cada producto y
              servicio que ofrecemos.
            </p>
          </div>
        </div>
        <div class="col-md-4 mb-4 text-center">
          <div class="p-4">
            <i class="bi bi-shield-check text-success fs-1 mb-3"></i>
            <h4 class="fw-bold">Integridad</h4>
            <p class="text-muted">
              Actuamos con honestidad y transparencia en todas nuestras
              relaciones comerciales.
            </p>
          </div>
        </div>
        <div class="col-md-4 mb-4 text-center">
          <div class="p-4">
            <i class="bi bi-lightbulb text-warning fs-1 mb-3"></i>
            <h4 class="fw-bold">Innovación</h4>
            <p class="text-muted">
              Buscamos constantemente nuevas formas de mejorar y evolucionar
              nuestros servicios.
            </p>
          </div>
        </div>
      </div>
    </section>
    <section class="container my-5">
      <div class="bg-light rounded-3 p-5 text-center">
        <h3 class="fw-bold mb-3">¿Quieres saber más?</h3>
        <p class="text-muted mb-4">
          Estamos aquí para responder cualquier pregunta que puedas tener sobre {
            store?.title
          }, nuestros productos y servicios.
        </p>
        <a href="/contacto" class="btn btn-primary btn-lg">
          <i class="bi bi-envelope me-2"></i>
          Contáctanos
        </a>
      </div>
    </section>
  </main>
</Layout>
